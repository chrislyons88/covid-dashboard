(function(t){function e(e){for(var a,r,i=e[0],u=e[1],s=e[2],l=0,d=[];l<i.length;l++)r=i[l],Object.prototype.hasOwnProperty.call(o,r)&&o[r]&&d.push(o[r][0]),o[r]=0;for(a in u)Object.prototype.hasOwnProperty.call(u,a)&&(t[a]=u[a]);p&&p(e);while(d.length)d.shift()();return c.push.apply(c,s||[]),n()}function n(){for(var t,e=0;e<c.length;e++){for(var n=c[e],a=!0,r=1;r<n.length;r++){var i=n[r];0!==o[i]&&(a=!1)}a&&(c.splice(e--,1),t=u(u.s=n[0]))}return t}var a={},r={app:0},o={app:0},c=[];function i(t){return u.p+"js/"+({about:"about"}[t]||t)+"."+{about:"ce393944"}[t]+".js"}function u(e){if(a[e])return a[e].exports;var n=a[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,u),n.l=!0,n.exports}u.e=function(t){var e=[],n={about:1};r[t]?e.push(r[t]):0!==r[t]&&n[t]&&e.push(r[t]=new Promise((function(e,n){for(var a="css/"+({about:"about"}[t]||t)+"."+{about:"f65daada"}[t]+".css",o=u.p+a,c=document.getElementsByTagName("link"),i=0;i<c.length;i++){var s=c[i],l=s.getAttribute("data-href")||s.getAttribute("href");if("stylesheet"===s.rel&&(l===a||l===o))return e()}var d=document.getElementsByTagName("style");for(i=0;i<d.length;i++){s=d[i],l=s.getAttribute("data-href");if(l===a||l===o)return e()}var p=document.createElement("link");p.rel="stylesheet",p.type="text/css",p.onload=e,p.onerror=function(e){var a=e&&e.target&&e.target.src||o,c=new Error("Loading CSS chunk "+t+" failed.\n("+a+")");c.code="CSS_CHUNK_LOAD_FAILED",c.request=a,delete r[t],p.parentNode.removeChild(p),n(c)},p.href=o;var f=document.getElementsByTagName("head")[0];f.appendChild(p)})).then((function(){r[t]=0})));var a=o[t];if(0!==a)if(a)e.push(a[2]);else{var c=new Promise((function(e,n){a=o[t]=[e,n]}));e.push(a[2]=c);var s,l=document.createElement("script");l.charset="utf-8",l.timeout=120,u.nc&&l.setAttribute("nonce",u.nc),l.src=i(t);var d=new Error;s=function(e){l.onerror=l.onload=null,clearTimeout(p);var n=o[t];if(0!==n){if(n){var a=e&&("load"===e.type?"missing":e.type),r=e&&e.target&&e.target.src;d.message="Loading chunk "+t+" failed.\n("+a+": "+r+")",d.name="ChunkLoadError",d.type=a,d.request=r,n[1](d)}o[t]=void 0}};var p=setTimeout((function(){s({type:"timeout",target:l})}),12e4);l.onerror=l.onload=s,document.head.appendChild(l)}return Promise.all(e)},u.m=t,u.c=a,u.d=function(t,e,n){u.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},u.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},u.t=function(t,e){if(1&e&&(t=u(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(u.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)u.d(n,a,function(e){return t[e]}.bind(null,a));return n},u.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return u.d(e,"a",e),e},u.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},u.p="/covid-dashboard/",u.oe=function(t){throw console.error(t),t};var s=window["webpackJsonp"]=window["webpackJsonp"]||[],l=s.push.bind(s);s.push=e,s=s.slice();for(var d=0;d<s.length;d++)e(s[d]);var p=l;c.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("56d7")},"1d55":function(t,e,n){"use strict";n("e3a7")},"204e":function(t,e,n){},2375:function(t,e,n){"use strict";var a=n("7a23");Object(a["t"])("data-v-9ec6174e");var r=Object(a["e"])("strong",null,"This is a very large dataset. Please be patient...",-1),o=Object(a["e"])("div",{class:"trinity-rings-spinner"},[Object(a["e"])("div",{class:"circle"}),Object(a["e"])("div",{class:"circle"}),Object(a["e"])("div",{class:"circle"})],-1),c=[r,o];function i(t,e,n,r,o,i){return Object(a["p"])(),Object(a["d"])("div",null,c)}Object(a["q"])();var u={name:"Spinner"};n("1d55");u.render=i,u.__scopeId="data-v-9ec6174e";e["a"]=u},"56d7":function(t,e,n){"use strict";n.r(e);n("e260"),n("e6cf"),n("cca6"),n("a79d");var a=n("7a23"),r={id:"nav"},o=Object(a["f"])("ICU Beds Per US County"),c=Object(a["f"])("US County Metrics Datagrid"),i=Object(a["f"])("Sankey Diagram of Vaccine Data"),u=Object(a["f"])("US State Infection Rates Over Time");function s(t,e){var n=Object(a["x"])("router-link"),s=Object(a["x"])("router-view");return Object(a["p"])(),Object(a["d"])(a["a"],null,[Object(a["e"])("ul",r,[Object(a["e"])("li",null,[Object(a["g"])(n,{to:"/"},{default:Object(a["C"])((function(){return[o]})),_:1})]),Object(a["e"])("li",null,[Object(a["g"])(n,{to:"/county-metrics"},{default:Object(a["C"])((function(){return[c]})),_:1})]),Object(a["e"])("li",null,[Object(a["g"])(n,{to:"/sankey"},{default:Object(a["C"])((function(){return[i]})),_:1})]),Object(a["e"])("li",null,[Object(a["g"])(n,{to:"/states"},{default:Object(a["C"])((function(){return[u]})),_:1})])]),Object(a["g"])(s)],64)}n("eb95");const l={};l.render=s;var d=l,p=(n("d3b7"),n("3ca3"),n("ddb0"),n("7db0"),n("fb6a"),n("d81d"),n("a630"),n("159b"),n("b64b"),n("6c02")),f={class:"home"};function h(t,e,n,r,o,c){var i=Object(a["x"])("CountyHeatmap");return Object(a["p"])(),Object(a["d"])("div",f,[Object(a["g"])(i)])}var b=n("cb2f"),m={name:"Home",components:{CountyHeatmap:b["a"]}};m.render=h;var v=m,y=[{path:"/",name:"Home",component:v,meta:{title:"ICU Beds Per US County"}},{path:"/states",name:"States",meta:{title:"US State Infection Rates Over Time"},component:function(){return n.e("about").then(n.bind(null,"c015"))}},{path:"/county-heatmap",name:"County Heatmap",component:function(){return n.e("about").then(n.bind(null,"b699"))}},{path:"/sankey",name:"Sankey Graph",meta:{title:"Sankey Diagram of Vaccine Data"},component:function(){return n.e("about").then(n.bind(null,"6431"))}},{path:"/county-metrics",name:"County Metrics",meta:{title:"US County Metrics Datagrid"},component:function(){return n.e("about").then(n.bind(null,"2bf9"))}}],g=Object(p["a"])({history:Object(p["b"])("/covid-dashboard/"),routes:y});g.beforeEach((function(t,e,n){var a=t.matched.slice().reverse().find((function(t){return t.meta&&t.meta.title})),r=t.matched.slice().reverse().find((function(t){return t.meta&&t.meta.metaTags})),o=e.matched.slice().reverse().find((function(t){return t.meta&&t.meta.metaTags}));if(a?document.title=a.meta.title:o&&(document.title=o.meta.title),Array.from(document.querySelectorAll("[data-vue-router-controlled]")).map((function(t){return t.parentNode.removeChild(t)})),!r)return n();r.meta.metaTags.map((function(t){var e=document.createElement("meta");return Object.keys(t).forEach((function(n){e.setAttribute(n,t[n])})),e.setAttribute("data-vue-router-controlled",""),e})).forEach((function(t){return document.head.appendChild(t)})),n()}));var j=g,O=n("5502"),w=Object(O["a"])({state:{},mutations:{},actions:{},modules:{}});Object(a["c"])(d).use(w).use(j).mount("#app")},cb2f:function(t,e,n){"use strict";var a=n("7a23"),r={class:"heatmap"},o=Object(a["e"])("h1",null,"Number of ICU Beds Available in Each US County",-1),c={key:0},i={key:1},u=Object(a["e"])("div",{id:"map"},null,-1),s=Object(a["e"])("footer",null,[Object(a["e"])("p",null,[Object(a["f"])(" Data provided by the "),Object(a["e"])("a",{target:"_blank",href:"https://apidocs.covidactnow.org/"},"Covid Act Now API")])],-1),l=[u,s];function d(t,e,n,u,s,d){var p=Object(a["x"])("Spinner");return Object(a["p"])(),Object(a["d"])("div",r,[o,t.covidData.length?(Object(a["p"])(),Object(a["d"])("div",i,l)):(Object(a["p"])(),Object(a["d"])("div",c,[Object(a["g"])(p)]))])}var p=n("1da1"),f=(n("d3b7"),n("159b"),n("96cf"),n("2375")),h=n("6e58"),b=n("d217"),m={components:{Spinner:f["a"]},data:function(){return{apiBaseUrl:"https://api.covidactnow.org/v2/",apiKey:"55783d149c7b461b87d3df4de4ffa9a1",covidData:[],mapData:[],pairBedsWithId:{},pairNameWithId:{},width:960,height:600}},computed:{covidCountyDataUrl:function(){return this.apiBaseUrl+"counties.json?apiKey="+this.apiKey},svg:function(){return h["select"]("#map").append("svg").attr("width",this.width).attr("height",this.height).attr("preserveAspectRatio","xMinYMin meet").style("margin","-15px auto")}},created:function(){var t=this;return Object(p["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.getData();case 2:return e.next=4,t.removeOldMap();case 4:return e.next=6,t.getMapData();case 6:return e.next=8,t.populateSortedData();case 8:return e.next=10,t.drawMap();case 10:case"end":return e.stop()}}),e)})))()},mounted:function(){return Object(p["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:case"end":return t.stop()}}),t)})))()},methods:{removeOldMap:function(){document.querySelector("#map").innerHTML=""},getData:function(){var t=this;return Object(p["a"])(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch(t.covidCountyDataUrl);case 3:return n=e.sent,e.next=6,n.json();case 6:t.covidData=e.sent,e.next=12;break;case 9:e.prev=9,e.t0=e["catch"](0),console.log(e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})))()},getMapData:function(){var t=this;return Object(p["a"])(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("us2.json");case 3:return n=e.sent,e.next=6,n.json();case 6:t.mapData=e.sent,e.next=12;break;case 9:e.prev=9,e.t0=e["catch"](0),console.log(e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})))()},populateSortedData:function(){var t=this;this.covidData.forEach((function(e){var n=parseInt(e.fips);t.pairBedsWithId[n]=+(e.actuals.icuBeds.capacity-e.actuals.icuBeds.currentUsageTotal),t.pairNameWithId[n]=e.county}))},drawMap:function(){var t=this,e=(this.width,this.height,[1,6,11,16,21,26,31,36,1e4]),n=[0,1,6,11,16,21,26,31,36],a=["0","1-5","6-10","11-15","16-20","21-25","26-30","31-35","36+"],r=h["scale"].threshold().domain(e).range(["#3e1602","#662506","#993404","#cc4c02","#ec7014","#fe9929","#fec44f","#fee391","#fff7bc"]),o=h["select"]("#map").append("div").attr("class","tooltip").style("opacity",0),c=this.svg,i=h["geo"].path();h["selection"].prototype.moveToFront=function(){return this.each((function(){this.parentNode.appendChild(this)}))},h["selection"].prototype.moveToBack=function(){return this.each((function(){var t=this.parentNode.firstChild;t&&this.parentNode.insertBefore(this,t)}))},c.append("g").attr("class","county").selectAll("path").data(b["a"](t.mapData,t.mapData.objects.counties).features).enter().append("path").attr("d",i).style("fill",(function(e){return r(t.pairBedsWithId[e.id])})).style("opacity",.8).on("mouseover",(function(e){var n=h["select"](this);n.moveToFront(),h["select"](this).transition().duration(300).style({opacity:1,stroke:"black","stroke-width":1.5}),o.transition().duration(300).style("opacity",1),o.text(t.pairNameWithId[e.id]+": "+t.pairBedsWithId[e.id]).style("left",h["event"].pageX+"px").style("top",h["event"].pageY-30+"px")})).on("mouseout",(function(){var t=h["select"](this);t.moveToBack(),h["select"](this).transition().duration(300).style({opacity:.8,stroke:"white","stroke-width":0}),o.transition().duration(300).style("opacity",0)})),c.append("path").datum(b["a"](t.mapData,t.mapData.objects.states,(function(t,e){return t!==e}))).attr("class","states").attr("d",i);var u=c.selectAll("g.legend").data(n).enter().append("g").attr("class","legend"),s=73,l=20;u.append("rect").attr("x",(function(t,e){return(e+1)*s-s})).attr("y",550).attr("width",s).attr("height",l).style("fill",(function(t,e){return r(t)})).style("opacity",.8),u.append("text").attr("x",(function(t,e){return(e+1)*s-s})).attr("y",590).text((function(t,e){return a[e]}));var d="Chloropleth Heatmap: Number of ICU beds Available";c.append("text").attr("x",0).attr("y",540).attr("class","legend_title").text((function(){return d}))}}};n("db76");m.render=d;e["a"]=m},db76:function(t,e,n){"use strict";n("204e")},e3a7:function(t,e,n){},e8bc:function(t,e,n){},eb95:function(t,e,n){"use strict";n("e8bc")}});
//# sourceMappingURL=app.211055e8.js.map